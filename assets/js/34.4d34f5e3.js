(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{522:function(t,a,e){"use strict";e.r(a);var r=e(31),n=Object(r.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"yyyy-mm-dd引起的日期错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yyyy-mm-dd引起的日期错误"}},[t._v("#")]),t._v(" YYYY-MM-dd引起的日期错误")]),t._v(" "),e("p",[t._v("新的一年新的希望，但是由此引发的问题也还是要处理！[手动滑稽]")]),t._v(" "),e("h3",{attrs:{id:"_1-问题重现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-问题重现"}},[t._v("#")]),t._v(" 1.问题重现")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('    // 创建 2020-12-31\n    Calendar calendar = Calendar.getInstance();\n    calendar.set(2020,Calendar.DECEMBER,31);\n\n    // YYYY-MM-dd\n    SimpleDateFormat dfYYYY = new SimpleDateFormat("YYYY-MM-dd");\n    System.out.println("YYYY-MM-dd 输出:" + dfYYYY.format(calendar.getTime()));\n\n    // yyyy-MM-dd\n    SimpleDateFormat dfyyyy = new SimpleDateFormat("yyyy-MM-dd");\n    System.out.println("yyyy-MM-dd 输出:" + dfyyyy.format(calendar.getTime()));\n')])])]),e("p",[t._v("输出信息：\n"),e("img",{attrs:{src:"image/1.jpg",alt:"image text"}}),t._v("\n可以看到 YYYY-MM-dd 输出的时间是2021-12-31.正确的输出格式应该是“2020-12-31”；")]),t._v(" "),e("h3",{attrs:{id:"_2-翻车原因"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-翻车原因"}},[t._v("#")]),t._v(" 2.翻车原因")]),t._v(" "),e("p",[t._v("为什么“YYYY-MM-dd”格式化日期“2020-12-31”时，打印的结果是错误的“2021-12-31”呢？\n我们可以从官方文档对javase8版本对java.time.format的介绍中找到答案！"),e("a",{attrs:{href:"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns",target:"_blank",rel:"noopener noreferrer"}},[t._v("打开官网介绍"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("img",{attrs:{src:"image/2.jpg",alt:"text"}})]),t._v(" "),e("p",[t._v("YYYY使用的是week-based-year，一周属于的年份：一周从周日开始周六结束，只要本周跨年则本周就属于下一年。")]),t._v(" "),e("h3",{attrs:{id:"_3-如何避免"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-如何避免"}},[t._v("#")]),t._v(" 3.如何避免？")]),t._v(" "),e("p",[t._v('解决这个问题其实很简单，只要将"YYYY-MM-dd"改为"yyyy-MM-dd";但是为了避免出现将yyyy误写为YYYY同时防止一个项目中多次定义，建议定义一个专门的DateUtil类，\n将常用的日期格式都提供好，禁止其他地方定义。')])])}),[],!1,null,null,null);a.default=n.exports}}]);